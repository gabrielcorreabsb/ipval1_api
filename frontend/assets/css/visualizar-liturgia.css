/* assets/css/liturgias-publicas.css */

/* Garanta que global.css esteja importado no HTML antes deste arquivo */

/* -------------------------------------------------------------------------- */
/* Estilos Gerais da Página de Liturgias Públicas                             */
/* -------------------------------------------------------------------------- */
.liturgy-public-page .container {
    padding-top: 30px;
    padding-bottom: 60px;
    opacity: 0;
    animation: fadeInPage 0.6s 0.1s ease-out forwards;
}
@keyframes fadeInPage { to { opacity: 1; } }

.liturgy-public-page .page-title-section {
    margin-bottom: 50px;
}
.liturgy-public-page .page-title h1 {
    font-size: 2.5rem;
    color: var(--color-primary);
    letter-spacing: -0.5px;
}
.liturgy-public-page .page-title p {
    font-size: 1.1rem;
    color: var(--color-text-light);
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

/* Indicador de Carregamento e Mensagem de Erro */
.loading-indicator,
.error-message {
    text-align: center;
    padding: 50px 20px;
    font-size: 1.15rem;
    color: var(--color-text-light);
}
.loading-indicator p::after {
    content: '...';
    display: inline-block;
    animation: loadingDots 1.4s infinite steps(4, end);
}
@keyframes loadingDots {
    0%, 100% { opacity: 0; }
    50% { opacity: 1; }
}

/* -------------------------------------------------------------------------- */
/* Listagem de Liturgias (Agrupadas por Mês)                                 */
/* -------------------------------------------------------------------------- */
.month-group {
    margin-bottom: 45px;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUpItem 0.5s ease-out forwards;
}
.month-group-header {
    font-family: var(--font-primary);
    font-size: 1.9rem;
    color: var(--color-primary);
    padding-bottom: 12px;
    margin-bottom: 25px;
    border-bottom: 2px solid var(--color-secondary);
    font-weight: 600;
    text-transform: capitalize;
}

.liturgy-list-entry {
    background-color: var(--color-white);
    padding: 20px 25px;
    margin-bottom: 18px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-light);
    transition: box-shadow var(--transition-speed) ease, transform var(--transition-speed) ease, border-left-color var(--transition-speed) ease;
    cursor: pointer;
    border-left: 6px solid var(--color-secondary);
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.liturgy-list-entry:hover {
    box-shadow: var(--shadow-medium);
    transform: translateY(-4px) scale(1.01);
    border-left-color: var(--color-primary);
}
.liturgy-list-entry .liturgy-item-info h3 {
    font-family: var(--font-secondary);
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--color-text);
    margin: 0 0 5px 0;
    transition: color var(--transition-speed) ease;
}
.liturgy-list-entry:hover .liturgy-item-info h3 { color: var(--color-primary); }
.liturgy-list-entry .liturgy-item-info .date { font-size: 0.9rem; color: var(--color-text-light); }

.liturgy-list-entry .btn-view-liturgy {
    background-color: var(--color-primary);
    color: var(--color-white);
    padding: 9px 20px;
    border-radius: 25px;
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: 500;
    transition: background-color var(--transition-speed) ease, transform var(--transition-speed) ease;
    box-shadow: var(--shadow-light);
    white-space: nowrap;
}
.liturgy-list-entry .btn-view-liturgy:hover {
    background-color: var(--color-accent);
    transform: scale(1.03);
    box-shadow: var(--shadow-medium);
}
.liturgy-list-entry .btn-view-liturgy i { margin-right: 7px; }

/* -------------------------------------------------------------------------- */
/* Modal de Detalhes da Liturgia (#liturgyDetailModal)                        */
/* -------------------------------------------------------------------------- */
.modal-liturgy-detail {
    display: none; position: fixed; z-index: 1020; /* Z-index alto */
    left: 0; top: 0; width: 100%; height: 100%;
    background-color: rgba(11, 102, 54, 0.65); /* Overlay verde da sua paleta */
    backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
    align-items: center; justify-content: center;
    opacity: 0; transition: opacity 0.3s ease-in-out; pointer-events: none;
}
.modal-liturgy-detail.active { opacity: 1; pointer-events: auto; }

.modal-liturgy-detail-content {
    background-color: var(--color-background); /* Fundo FAFAFA do site */
    color: var(--color-text);
    padding: 0;
    border-radius: 10px;
    width: 90%; max-width: 800px; height: 90vh;
    box-shadow: 0 15px 50px rgba(0,0,0,0.3);
    position: relative; display: flex; flex-direction: column; overflow: hidden;
    transform: scale(0.95) translateY(15px); opacity: 0;
    transition: transform 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease-out;
}
.modal-liturgy-detail.active .modal-liturgy-detail-content {
    transform: scale(1) translateY(0); opacity: 1;
}

.close-liturgy-detail-modal {
    color: var(--color-text-light); position: absolute; top: 10px; right: 15px;
    font-size: 2rem; font-weight: 300; cursor: pointer; z-index: 101; /* Acima do header do modal */
    transition: color var(--transition-speed) ease, transform var(--transition-speed) ease;
    padding: 8px; line-height: 1;
}
.close-liturgy-detail-modal:hover { color: var(--color-primary); transform: rotate(180deg) scale(1.1); }

/* Cabeçalho do Modal da Liturgia */
.liturgy-modal-header {
    padding: 20px 30px;
    border-bottom: 1px solid #e9e9e9;
    text-align: left;
    flex-shrink: 0;
    background-color: var(--color-white);
    border-top-left-radius: 10px; border-top-right-radius: 10px;
}
.liturgy-modal-header h1#modal-liturgy-title {
    font-family: var(--font-primary); color: var(--color-primary);
    font-size: 1.8rem; margin-bottom: 6px; font-weight: 700;
}
.liturgy-modal-header .liturgy-modal-meta {
    font-size: 0.9rem; color: var(--color-text-light); margin-bottom: 3px; line-height: 1.4;
}
.liturgy-modal-header .liturgy-modal-meta#modal-liturgy-bible-version {
    font-style: italic; font-size: 0.85rem; display: block; margin-top: 6px;
}

/* Seção de Itens da Liturgia no Modal */
.liturgy-modal-items-section {
    padding: 15px 30px 30px 30px;
    overflow-y: auto;
    flex-grow: 1;
    background-color: var(--color-background); /* Fundo FAFAFA */
    border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
}

/* Card de Item Individual DENTRO do Modal */
#modal-liturgy-items-container .liturgy-item-card {
    background-color: transparent; box-shadow: none;
    border-left: 4px solid transparent; /* Borda será específica por tipo */
    padding: 15px 0 15px 15px;
    margin-bottom: 18px;
    border-bottom: 1px solid #efefef; /* Divisor muito sutil */
    transition: background-color 0.2s ease;
}
#modal-liturgy-items-container .liturgy-item-card:last-child { border-bottom: none; margin-bottom: 0; }
/* #modal-liturgy-items-container .liturgy-item-card:hover { background-color: #f9f9f9; } */

#modal-liturgy-items-container .liturgy-item-card.tipo-titulo_secao {
    border-left-color: var(--color-primary); padding-left: 0;
    border-bottom-style: solid; border-bottom-color: var(--color-primary);
    margin-top: 25px; margin-bottom: 20px;
}
#modal-liturgy-items-container .liturgy-item-card.tipo-titulo_secao h3 {
    font-family: var(--font-primary); font-size: 1.5rem; color: var(--color-primary);
    margin-bottom: 0; padding-bottom: 8px; border-bottom: none; text-align: left; font-weight: 600;
}

#modal-liturgy-items-container .liturgy-item-card .item-text-content p { /* Para TEXTO_SIMPLES, ANUNCIO, ORACAO */
    font-size: 1rem; line-height: 1.7; color: var(--color-text);
}

#modal-liturgy-items-container .liturgy-item-card.tipo-hino {
    border-left-color: var(--color-secondary); text-align: left;
}
#modal-liturgy-items-container .liturgy-item-card.tipo-hino .hino-title {
    font-family: var(--font-secondary); font-size: 1.1rem; font-weight: 500; color: var(--color-text);
}
#modal-liturgy-items-container .liturgy-item-card.tipo-hino .hino-number {
    font-size: 0.9rem; color: var(--color-text-light); font-style: italic;
}

/* Referência Bíblica e Área Expansível para Texto */
#modal-liturgy-items-container .liturgy-item-card.tipo-referencia_biblica {
    border-left-color: var(--color-accent);
    padding-bottom: 10px; /* Menos padding se o texto for expandir abaixo */
}
.reference-text-display { /* O link clicável */
    font-family: var(--font-secondary); font-size: 1.1rem; font-weight: 600;
    color: var(--color-primary); cursor: pointer; text-decoration: none;
    display: inline-flex; align-items: center;
    padding: 8px 0; /* Aumenta área de clique */
    transition: color var(--transition-speed) ease;
    border-bottom: 2px dashed transparent;
}
.reference-text-display:hover, .reference-text-display.active {
    color: var(--color-accent);
    border-bottom-color: var(--color-accent); /* Mostra sublinhado no hover/ativo */
}
.reference-text-display i {
    font-size: 1.1em; margin-right: 10px; color: var(--color-primary);
    transition: color var(--transition-speed) ease;
}
.reference-text-display:hover i, .reference-text-display.active i { color: var(--color-accent); }

.bible-text-accordion-content { /* Container para o texto bíblico expansível */
    max-height: 0; /* Começa fechado */
    overflow: hidden;
    transition: max-height 0.4s ease-in-out, padding-top 0.4s ease-in-out, margin-top 0.4s ease-in-out;
    background-color: var(--color-secondary); /* Fundo bege claro */
    border-radius: 0 0 var(--border-radius) var(--border-radius); /* Arredonda cantos inferiores */
    padding: 0 20px; /* Padding lateral */
    margin-top: 0;
    border-left: 3px solid var(--color-accent);
    margin-left: -19px; /* Para alinhar com o padding do card pai (15px + 4px da borda) */
    margin-right: -20px; /* Para ocupar toda a largura do card pai */
}
.bible-text-accordion-content.open {
    max-height: 500px; /* Altura máxima para expandir, ajuste conforme necessário */
    padding-top: 15px;
    padding-bottom: 15px;
    margin-top: 10px; /* Espaço entre a referência e o texto */
}
.bible-text-accordion-content .verse-text-display .verse {
    margin-bottom: 0.8em; line-height: 1.7; color: var(--color-text);
}
.bible-text-accordion-content .verse-text-display .verse sup {
    font-family: var(--font-secondary); font-size: 0.7em; font-weight: 600;
    color: var(--color-primary); margin-right: 0.3em; vertical-align: super;
}


/* Animação de Fade In para itens da liturgia (pode ser adicionada via JS) */
@keyframes fadeInUpItem {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}


/* Responsividade */
@media (max-width: 768px) {
    .liturgy-public-page .page-title-section .page-title h1 { font-size: 2rem; }
    .month-group-header { font-size: 1.6rem; }
    .liturgy-list-entry { flex-direction: column; align-items: flex-start; gap: 10px; }
    .liturgy-list-entry .btn-view-liturgy { align-self: flex-start; }

    .modal-liturgy-detail-content { width: 100%; height: 100%; max-height: 100vh; border-radius: 0; }
    .close-liturgy-detail-modal { top: 10px; right: 10px; font-size: 1.8rem; background: rgba(255,255,255,0.8); border-radius: 50%; padding: 5px 8px; }
    .liturgy-modal-header { padding: 15px 20px; }
    .liturgy-modal-header h1 { font-size: 1.5rem; }
    .liturgy-modal-items-section { padding: 10px 20px 20px 20px; }
    #modal-liturgy-items-container .liturgy-item-card.tipo-titulo_secao h3 { font-size: 1.3rem; }
    .bible-text-accordion-content { margin-left: -16px; margin-right: -20px; }
}